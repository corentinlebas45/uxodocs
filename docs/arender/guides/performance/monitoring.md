---
title: "Suivis des performances"
weight: 5
draft: false
icon: mdi-gauge-full
# search related keywords
keywords: ["surveiller", "performance", "log"]
---

Pour suivre les performances, les exécutions de méthode ainsi que des champs complémentaires sont écrits dans un fichier de log.


Un exemple de ligne créé dans les fichiers de logs

```
Start=1921-01-01 11:02:27,776 || End=1921-01-01 11:02:27,777 || TimeMs=1 || ModuleLoadingTime=227 || DocumentLoadingTime=1084 || User=null || UserAgent=null || Method=ServletDocumentService.notifyOpeningTimes(..) || MimeType=null || DocumentId=b64_I2RlZmF1bHQ= || Result=OK || Exception=null || Args=[227, 1084]
```

## Description des champs

[shortcode]
Les champs ModuleLoadingTime et DocumentLoadingTime sont disponibles à partir d'ARender 4.3.0 et supérieur.


Avant ARender 4.3.0 :
Les champs sont récupérables depuis le champs 'args' lorsque le champ 'method' contient 'notifyLoadingTimes(..)'.
Le champs 'args' sera alors construit de la façon suivante : '[moduleLoadingTime, documentLoadingTime]'
[shortcode]

| Champs                   | Description                                                                                                                                                                                                                                                            |
| ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Start                    | Date de début de l'exécution de la méthode. La date est au format yyyy-mm-dd hh-mm-ss.                                                                                                                                                                                 |
| End                      | Date de fin de l'exécution de la méthode. La date est au format yyyy-mm-dd hh-mm-ss.                                                                                                                                                                                   |
| TimeMs                   | Durée en milliseconde du temps d'exécution de la méthode. Ce temps est calculé avec End - Start.                                                                                                                                                                       |
| ModuleLoadingTime        | Durée en milliseconde du temps de chargement du module. La valeur est égal à -1  si le méthode est différente de ServletDocumentService.notifyOpeningTimes(..).                                                                                                        |
| DocumentLoadingTime      | Durée en milliseconde du temps de chargement du document. La valeur est égal à -1 si le méthode est différente de ServletDocumentService.notifyOpeningTimes(..).                                                                                                       |
| User                     | Le nom de l'utilisateur courant. La valeur sera égal à null si le nom de l'utilisateur n'a pas pu être récupéré ou si la propriété arender.server.perf.logger.username.fetch a pour valeur false.                                                                      |
| UserAgent                | Le UserAgent de l'utilisateur courant. La valeur sera égal à null si le UserAgent n'a pas pu être récupéré ou si la propriété arender.server.perf.logger.useragent.fetch a pour valeur false.                                                                          |
| Method                   | Le nom de la méthode qui a été exécuté et dont les informations ont été récupéré.                                                                                                                                                                                      |
| MimeType                 | Le type mime du document utilisé par la méthode exécutée. La valeur sera égale à null si la méthode n'est pas DocumentServiceMapper.getDocumentLayout(..).                                                                                                             |
| DocumentId               | DocumentId du document utilisé par la méthode exécutée. La valeur sera égale à null lorsque la méthode exécutée n'a pas besoin d'être associé à un documentId.                                                                                                         |
| DocumentIdRevertedParams | Contient les paramètres encodés dans le documentId. La valeur sera égale à null lorsque la propriété arender.server.perf.logger.document.id.params.fetch a pour valeur false. Le champs ne sera pas présent s'il n'y a pas de paramètres encodés dans le documentId.   |
| Result                   | Indique si la méthode est bien exécutée ou s'il y a une erreur. La valeur sera égale à OK si aucune erreur et KO s'il y a au moins une erreur.                                                                                                                         |
| Exception                | L'exception qui est renvoyée en cas d'erreur lors de l'exécution de la méthode. La valeur sera null si aucune erreur ne s'est produite.                                                                                                                                |
| Args                     | La liste des arguments de la méthode. Les arguments sont entre crochets et séparés par une virgule.                                                                                                                                                                    |

## Liste des méthodes logger pour la rendition : 
| Méthode                                 | Description                                                                                                                    | Paramètres                                                        | Erreur remonté                                                                              |
| --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| alterDocumentContent(..)                | Utilisée lors de téléchargement avec annotations, de sauvegarde d'un document ou mise à jour d'un document par documentBuilder | List of DocumentId , AlterContentDescription                      | AlterContentOperationException, DocumentNotAvailableException                               |
| compareDocuments(..)                    | Utilisée lors de la comparaison de deux documents                                                                              | leftDocumentId, rightDocumentId                                   | DocumentNotAvailableException                                                               |
| compareImages(..)                       | Utilisée lors de la comparaison de deux images                                                                                 | documentLeft, documentRight, fuzz, highlightColor , lowlightColor | DocumentNotAvailableException                                                               |
| convertStampAppearance(..)              | Utilisée pour convertir l'apparences des tampons PDFBox vers l'apparence des tampons ARender                                   | List of Annotation                                                | DocumentNotAvailableException                                                               |
| createPrintablePDF(..)                  | Utilisée lors de l'impression d'un document                                                                                    |                                                                   |                                                                                             |
| createPrintablePDFStreamed(..)          | Utilisée lors de l'impression d'un document                                                                                    | HttpServletResponse                                               |                                                                                             |
| evict(..)                               |                                                                                                                                |                                                                   |                                                                                             |
| extractAnnotations(..)                  | Extrait les annotations depuis un document PDF fournis                                                                         | formatType, bytes                                                 | DocumentNotAvailableException                                                               |
| generateAnnotations(..)                 | Génération d'annotations au format FDF depuis un format d'annotation ARender. Utilisée lors de téléchargement avec annotation  | formatType, List of Annotation                                    | DocumentNotAvailableException, IOException                                                  |
| generatePDFWithFDFAnnotations(..)       | Utilisée lors de téléchargement avec FDF annotations                                                                           | List of Annotation                                                | DocumentNotAvailableException, IOException                                                  |
| getAdvancedSearchPageResult(..)         | Utilisée lors de la recherche avancé pour une page donnée                                                                      | searchOptions, pageNumber                                         | DocumentNotAvailableException                                                               |
| getAdvancedSearchPagesWithResult(..)    | Utilisée lors de la recherche avancé pour toutes les pages d'un document                                                       | searchOptions                                                     | DocumentNotAvailableException                                                               |
| getAnnotationAccessor(..)               | Utilisée lors qu'un document possède des annotations                                                                           |                                                                   |                                                                                             |
| getAnnotationsContainingSearchText(..)  | Utilisée lors de la recherche afin de récupérer la liste des annotations contenant le texte recherché pour une page donnée     | List of Annotation , searchOptions, pageNumber                    | DocumentNotAvailableException                                                               |
| getBookmarks(..)                        | Récupération des marques pages au chargement du document                                                                       |                                                                   | DocumentNotAvailableException                                                               |
| getDocumentAccessor(..)                 | Récupération du document accessor au chargement du document                                                                    | DocumentAccessorSelector                                          | DocumentNotAvailableException                                                               |
| getDocumentAccessorContent(..)          | Récupération du contenu du document                                                                                            | DocumentAccessorSelector                                          | DocumentNotAvailableException                                                               |
| getDocumentAccessorController(..)       | Récupération du document accessor controller                                                                                   |                                                                   |                                                                                             |
| getDocumentDPI(..)                      | Récupération du DPI d'une page d'un document                                                                                   | DocumentAccessorSelector, pageNumber                              | Exception                                                                                   |
| getDocumentLayout(..)                   | Récupération du layout du document au chargement                                                                               |                                                                   | DocumentNotAvailableException                                                               |
| getDocumentMetadata(..)                 | Récupération des métadonnées du document au chargement                                                                         |                                                                   | DocumentNotAvailableException                                                               |
| getPageContents(..)                     | Récupération du contenu textuel d'une page donnée d'un document                                                                | pageNumber                                                        | DocumentNotAvailableException, PageOutOfRangeException, DocumentFormatNotSupportedException |
| getPageImageStream(..)                  | Récupération de l'image d'une page donnée d'un document. Utilisée pour les vignettes et les pages dans ARender                 | pageNumber, PageImageDescription, HttpServletResponse             | DocumentNotAvailableException, DocumentFormatNotSupportedException                          |
| getPageResult(..)                       | Récupération des résultats de recherche pour une page donnée                                                                   | searchQuery, pageNumber, searchOptions                            | DocumentNotAvailableException                                                               |
| getPagesWithResult(..)                  | Récupération des résultats de recherche pour toutes les pages d'un document                                                    | searchQuery                                                       | DocumentNotAvailableException                                                               |
| getSize(..)                             | Récupération de la taille du document                                                                                          | DocumentAccessorSelector                                          | DocumentNotAvailableException                                                               |
| getVideoChunk(..)                       | Récupération d'une portion d'un fichier vidéo                                                                                  | start, length, HttpServletResponse                                | DocumentNotAvailableException, DocumentFormatNotSupportedException, IOException             |
| hasDocument(..)                         | Vérifie si le microService DFS à le document à disposition                                                                     |                                                                   |                                                                                             |
| loadDocumentAccessor(..)                | Chargement d'un document via son documentAccessor                                                                              | DocumentAccessor                                                  | DocumentNotAvailableException, DocumentFormatNotSupportedException                          |
| loadDocumentAccessor(..)                | Chargement d'un document via son documentAccessor et le sélecteur associé                                                      | DocumentAccessor , DocumentAccessorSelector                       | DocumentNotAvailableException                                                               |
| loadPartialDocument(..)                 | Chargement d'une partie d'un document                                                                                          | contentBuffer, offset, finished                                   | DocumentNotAvailableException, DocumentFormatNotSupportedException                          |
| startLoadPartialDocument(..)            | Commence le chargement d'un document part partie                                                                               | mimeType, documentTitle, contentSize                              | IOException                                                                                 |
| uploadDocument(..)                      | Utilisée pour charger un document dans ARender                                                                                 | mimeType, documentTitle, inputStream                              |                                                                                             |
    


## Liste des méthodes logger pour l'UI : 
| Méthode                                 | Description                                                                                                                    | Paramètres                                                           | Erreur remonté                                                                                           |
| --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| alterDocumentContent(..)                | Utilisée lors du téléchargement avec annotations, de sauvegarde d'un document ou mise à jour d'un document par documentBuilder | sourceDocumentIdList, description                                    | AlterContentOperationException, DocumentFormatNotSupportedException, DocumentNotAvailableException       |
| compareDocuments(..)                    | Utilisée lors de la comparaison de deux documents                                                                              | documentIdLeft, documentIdRight                                      | DocumentNotAvailableException, DocumentServiceDelegateNotAvailable, DocumentFormatNotSupportedException  |
| compareImages(..)                       | Utilisée lors de la comparaison de deux images                                                                                 | documentIdLeft, documentIdRight, fuzz, highlightColor, lowlightColor | DocumentNotAvailableException, DocumentServiceDelegateNotAvailable, DocumentFormatNotSupportedException  |
| convertStampAppearance(..)              | Utilisée pour convertir l'apparence des tampons PDFBox vers l'apparence des tampons ARender                                    | stampAnnotations                                                     | DocumentFormatNotSupportedException                                                                      |
| createPrintablePDF(..)                  | Utilisée lors de l'impression d'un document                                                                                    | arenderAnnotations                                                   | DocumentNotAvailableException                                                                            |
| DownloadServlet.doGet(..)               | Utilisée lors du téléchargement d'un document                                                                                  | methodName, revertedDocumentIdParameters                             |                                                                                                          |
| evict(..)                               |                                                                                                                                |                                                                      |                                                                                                          |
| extractAnnotations(..)                  | Extrait les annotations depuis un document PDF fournis                                                                         | sourceId, formatType, contents                                       | DocumentFormatNotSupportedException                                                                      |
| generateAnnotations(..)                 | Génération d'annotations au format FDF depuis un format d'annotation ARender. Utilisée lors de téléchargement avec annotation  | formatType, arenderAnnotations                                       | DocumentNotAvailableException                                                                            |
| generatePDFWithFDFAnnotations(..)       | Utilisée lors de téléchargement avec FDF annotations                                                                           | arenderAnnotations                                                   | DocumentNotAvailableException                                                                            |
| getAdvancedSearchPageResult(..)         | Utilisée lors de la recherche avancée pour une page donnée                                                                     | searchOptions, pageNumber                                            | DocumentNotAvailableException, DocumentFormatNotSupportedException                                       |
| getAdvancedSearchPagesWithResult(..)    | Utilisée lors de la recherche avancé pour toutes les pages d'un document                                                       | searchOptions                                                        | DocumentNotAvailableException                                                                            |
| getAnnotationAccessor(..)               | Utilisée lorsqu'un document possède des annotations                                                                            |                                                                      | DocumentNotAvailableException, AnnotationsNotSupportedException                                          |
| getAnnotationsContainingSearchText(..)  | Utilisée lors de la recherche afin de récupérer la liste des annotations contenant le texte recherché pour une page donnée     | annotations, searchOptions, pageNumber                               | AnnotationsNotSupportedException, DocumentNotAvailableException                                          |
| getBookmarks(..)                        | Récupération des marques pages au chargement du document                                                                       |                                                                      | DocumentNotAvailableException                                                                            |
| getDocumentAccessor(..)                 | Récupération du document accessor au chargement du document                                                                    | documentAccessorSelector                                             | DocumentNotAvailableException, IOException                                                               |
| getDocumentAccessorContent(..)          | Récupération du contenu du document                                                                                            | documentAccessorSelector                                             | DocumentNotAvailableException                                                                            |
| getDocumentDPI(..)                      | Récupération du DPI d'une page d'un document                                                                                   | documentAccessorSelector, page                                       | Exception                                                                                                |
| getDocumentLayout(..)                   | Récupération du layout du document au chargement                                                                               |                                                                      | DocumentFormatNotSupportedException, DocumentNotAvailableException                                       |
| getDocumentMetadata(..)                 | Récupération des métadonnées du document au chargement                                                                         |                                                                      | DocumentNotAvailableException, DocumentFormatNotSupportedException                                       |
| getPageContents(..)                     | Récupération du contenu textuel d'une page donnée d'un document                                                                | pageNumber                                                           | DocumentNotAvailableException, PageOutOfRangeException, DocumentFormatNotSupportedException              |
| getPageImage(..)                        | Récupération de l'image d'une page donnée d'un document. Utilisée pour les vignettes et les pages dans ARender                 | page, pageImageDescription                                           | DocumentNotAvailableException, DocumentFormatNotSupportedException, PageOutOfRangeException, IOException |
| getPageResult(..)                       | Récupération des résultats de recherche pour une page donnée                                                                   | searchText, pageNumber, searchOptions                                | DocumentNotAvailableException, DocumentFormatNotSupportedException                                       |
| getPagesWithResult(..)                  | Récupération des résultats de recherche pour toutes les pages d'un document                                                    | searchText                                                           | DocumentNotAvailableException                                                                            |
| getTargetsWeather(..)                   | Utilisée lors de l'accès à arendergwt/weather                                                                                  | isPrettyHtmlPrint                                                    |                                                                                                          |
| hasCurrentUserParsedDocument(..)        | Vérifie si le document est disponible pour l'utilisateur courant                                                               |                                                                      |                                                                                                          |
| loadDocumentAccessor(..)                | Chargement d'un document via son documentAccessor                                                                              | documentAccessor                                                     | DocumentNotAvailableException, DocumentFormatNotSupportedException                                       |
| loadDocumentAccessor(..)                | Chargement d'un document via son documentAccessor et le sélecteur associé                                                      | documentAccessor, documentAccessorSelector                           |                                                                                                          |
| loadDocument(..)                        | Chargement d'un document déjà parsé                                                                                            | document                                                             |                                                                                                          |
| mayProcessAnnotationRendition(..)       | Essaye de générer un document avec ces annotations                                                                             | sharedDocumentId                                                     | DocumentFormatNotSupportedException                                                                      |
| notifyOpeningTimes(..)                  | Utilisée pour notifier qu'un document est ouvert et affiché dans ARender                                                       | moduleLoadingTime, documentLoadingTime                               |                                                                                                          |
| parseLoadingQueryUrl(..)                | Utilisée lorsqu'une URL utilise loadingQuery                                                                                   | identifier                                                           | DocumentNotAvailableException, DocumentFormatNotSupportedException                                       |
| parseReversibleDocumentId(..)           |                                                                                                                                |                                                                      | DocumentNotAvailableException, DocumentFormatNotSupportedException                                       |
| parseURL(..)                            | Parse l'url fournit avant d'essayer d'exécuter l'action voulu comme par exemple l'ouverture d'un document                      | applicationContext, request                                          | DocumentNotAvailableException, DocumentFormatNotSupportedException                                       |
| PrintServlet.doGet(..)                  | Exécutée lors de l'impression d'un document                                                                                    | methodName, revertedDocumentIdParameters                             |                                                                                                          |
| uploadDocument(..)                      | Utilisée pour chargé un document dans ARender                                                                                  | mimeType, documentTitle, inputStream                                 |                                                                                                          |
| validateQueryToken(..)                  | Valide si le token fournit pour une requête est valide ou non                                                                  | queryURL                                                             |                                                                                                          |