<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-fast2 docs-version-current docs-doc-page docs-doc-id-components/worker" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">The worker | UXO Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://corentinlebas45.github.io/uxodocs/docs/fast2/components/worker"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-fast2-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-fast2-current"><meta data-rh="true" property="og:title" content="The worker | UXO Docs"><meta data-rh="true" name="description" content="!!! Hint"><meta data-rh="true" property="og:description" content="!!! Hint"><link data-rh="true" rel="icon" href="/uxodocs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://corentinlebas45.github.io/uxodocs/docs/fast2/components/worker"><link data-rh="true" rel="alternate" href="https://corentinlebas45.github.io/uxodocs/docs/fast2/components/worker" hreflang="en"><link data-rh="true" rel="alternate" href="https://corentinlebas45.github.io/uxodocs/docs/fast2/components/worker" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Components","item":"https://corentinlebas45.github.io/uxodocs/docs/fast2/components/"},{"@type":"ListItem","position":2,"name":"The worker","item":"https://corentinlebas45.github.io/uxodocs/docs/fast2/components/worker"}]}</script><link rel="stylesheet" href="/uxodocs/assets/css/styles.c0027a3a.css">
<script src="/uxodocs/assets/js/runtime~main.f0861c75.js" defer="defer"></script>
<script src="/uxodocs/assets/js/main.623fe0b4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/uxodocs/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/uxodocs/"><div class="navbar__logo"><img src="/uxodocs/img/logo.svg" alt="UXO" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/uxodocs/img/logo.svg" alt="UXO" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">UXO Docs</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link verdd verdd--fast2 active" aria-haspopup="true" aria-expanded="false" role="button" href="/uxodocs/docs/fast2/components/worker">current</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/uxodocs/docs/fast2/components/worker">current</a></li><li><a class="dropdown__link" href="/uxodocs/docs/fast2/v2/fast2">v2</a></li><li><a class="dropdown__link" href="/uxodocs/docs/fast2/v1/fast2">v1</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link verdd verdd--arender" aria-haspopup="true" aria-expanded="false" role="button" href="/uxodocs/docs/arender">current</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/uxodocs/docs/arender">current</a></li><li><a class="dropdown__link" href="/uxodocs/docs/arender/v2/arender">v2</a></li><li><a class="dropdown__link" href="/uxodocs/docs/arender/v1/arender">v1</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link verdd verdd--flowerdocs" aria-haspopup="true" aria-expanded="false" role="button" href="/uxodocs/docs/flowerdocs">current</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/uxodocs/docs/flowerdocs">current</a></li><li><a class="dropdown__link" href="/uxodocs/docs/flowerdocs/v2/flowerdocs">v2</a></li><li><a class="dropdown__link" href="/uxodocs/docs/flowerdocs/v1/flowerdocs">v1</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/corentinlebas45/uxodocs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uxodocs/docs/fast2/getting-started"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uxodocs/docs/fast2/advanced"><span title="Advanced" class="categoryLinkLabel_W154">Advanced</span></a><button aria-label="Expand sidebar category &#x27;Advanced&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/uxodocs/docs/fast2/API"><span title="API documentation" class="linkLabel_WmDU">API documentation</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uxodocs/docs/fast2/catalog"><span title="Catalog" class="categoryLinkLabel_W154">Catalog</span></a><button aria-label="Expand sidebar category &#x27;Catalog&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/uxodocs/docs/fast2/components"><span title="Components" class="categoryLinkLabel_W154">Components</span></a><button aria-label="Collapse sidebar category &#x27;Components&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uxodocs/docs/fast2/components/broker"><span title="The broker" class="linkLabel_WmDU">The broker</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uxodocs/docs/fast2/components/dashboards"><span title="Dashboards" class="linkLabel_WmDU">Dashboards</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uxodocs/docs/fast2/components/database"><span title="Internal database" class="linkLabel_WmDU">Internal database</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/uxodocs/docs/fast2/components/worker"><span title="The worker" class="linkLabel_WmDU">The worker</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/uxodocs/docs/fast2/cookbooks"><span title="Fast2 cookbooks" class="categoryLinkLabel_W154">Fast2 cookbooks</span></a><button aria-label="Expand sidebar category &#x27;Fast2 cookbooks&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/uxodocs/docs/fast2"><span title="Fast2" class="linkLabel_WmDU">Fast2</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/uxodocs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/uxodocs/docs/fast2/components"><span>Components</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">The worker</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: current</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>The worker</h1></header>
<p>!!! Hint</p>
<p>The Worker is the punnet processor, applying the changes onto the punnet, according to how the tasks have been configured by the user.</p>
<p>The workers! Corner stones of Fast2, these guys can litterally add up and constitute a real digitized hive working to migrate your documents,
your contents, your rules, your metadata, all synchronously, exactly where you expect them (or asked them to be), never stepping on each other.
No migration project could be overcome if it was not by them!</p>
<p>If their role can seem quite important, they are paradoxically as easy and straight forward to get up and running. Just the right files to gather, as mentioned here, and a new worker just enrolled!</p>
<p>One of the major aspects of a promising migration project is what all project managers will ask you to vouch for: performance metrics. Let’s suppose you need to migrate documents from a source system into a second one, the latter having a much higher input flow tolerance. No need for empirical statistics to know that the old ECM will be the bottleneck. An architecture similar to a hybrid deployment variant (topic we presented <a href="https://www.fast2.tech/blog/deployment-variants/" target="_blank" rel="noopener noreferrer">here</a>) could easily be envisioned. But let’s complicate things a little bit here: in-between the extraction and the injection phase, the metadata have to be updated, with new date formatting and heavy mapping of document related properties. Can still a hybrid-like architecture save you now ?</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="material-hard-hat-configure-the-workers">:material-hard-hat: Configure the worker(s)<a href="#material-hard-hat-configure-the-workers" class="hash-link" aria-label="Direct link to :material-hard-hat: Configure the worker(s)" title="Direct link to :material-hard-hat: Configure the worker(s)" translate="no">​</a></h2>
<p>The required files for the worker to run properly are the following:</p>
<table><thead><tr><th>Item</th><th>Purpose</th></tr></thead><tbody><tr><td>:material-folder: config/*</td><td>Configuration files, broker endpoint etc</td></tr><tr><td>:material-folder: worker-libs/*</td><td>All libraries and dependencies for tasks executions</td></tr><tr><td>:fontawesome-brands-java: fast2-worker-package-X.Y.Z.jar</td><td>Worker main unit</td></tr><tr><td>:material-microsoft-windows: startup-worker.bat</td><td>Binary file for Windows</td></tr><tr><td>:fontawesome-brands-linux: startup-worker.sh</td><td>Binary file for Linux</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="change-jdk">Change JDK<a href="#change-jdk" class="hash-link" aria-label="Direct link to Change JDK" title="Direct link to Change JDK" translate="no">​</a></h3>
<p>If you want to use a different jdk version than the one referenced in JAVA_HOME environment variable, you can update the <code>JAVA_HOME</code> value in <code>./config/env.properties</code>:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">./config/env.properties</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Override JAVA_HOME environment variable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="memory-allocation">Memory allocation<a href="#memory-allocation" class="hash-link" aria-label="Direct link to Memory allocation" title="Direct link to Memory allocation" translate="no">​</a></h3>
<p>Depending on the amount of documents and the number of tasks you are dealing with, you may want to control max memory usage allowed (<code>Xmx</code>) for worker.</p>
<p>The default setting is 1GB for this resource:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">./config/env.properties</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Worker Maximum memory allowed (Xmx)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKER_MAX_MEMORY=1G</span><br></span></code></pre></div></div>
<p>Keep in mind that this property is designed for workers started from the binary <code>start-worker.sh|.bat</code>. If you intend to target the embedded worker, go to <code>./config/application.properties</code> instead:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Broker embedded worker max memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">broker.embeddedworker.max.memory=1G</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="queues-management">Queues management<a href="#queues-management" class="hash-link" aria-label="Direct link to Queues management" title="Direct link to Queues management" translate="no">​</a></h3>
<p>Queues have to be declared to the workers for them to process the punnets stored in these sames <em>queues</em>.</p>
<p>The queues names will also be declared in the tasks configuration panel, so the only worker in charge of executing a task with a defined queue will be the worker whose queue regex matched this very queue.</p>
<p>In order to have specific worker tied to particular queues, the configuration needs to be updated here:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">./config/application.properties</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Worker queue regex filter</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"># worker.queue.regex=.*</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disabled-the-embedded-worker">Disabled the embedded worker<a href="#disabled-the-embedded-worker" class="hash-link" aria-label="Direct link to Disabled the embedded worker" title="Direct link to Disabled the embedded worker" translate="no">​</a></h3>
<p>In case serveral workers are required for specific queues and tasks, there might be no more need of the embedded worker itself. To make sure not to have it running pointlessly, this worker can be disactivated from the <code>./config/application.properties</code> files, as so :</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">./config/application.properties</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Disable auto-launch of embedded worker</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">broker.embedded.worker.autostart=false</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="octicons-zap-24-advanced-use">:octicons-zap-24: Advanced use<a href="#octicons-zap-24-advanced-use" class="hash-link" aria-label="Direct link to :octicons-zap-24: Advanced use" title="Direct link to :octicons-zap-24: Advanced use" translate="no">​</a></h2>
<p>One of the major aspects of a promising migration project is what all project managers will ask you to vouch for: performance metrics.
Let’s suppose you need to migrate documents from a source system into a second one, the latter having a much higher input flow tolerance. No need for empirical statistics to know that the old ECM will be the bottleneck. An architecture similar to a hybrid deployment variant (topic we presented <a href="https://www.fast2.tech/blog/deployment-variants/" target="_blank" rel="noopener noreferrer">here</a>) could easily be envisioned. But let’s complicate things a little bit here: in-between the extraction and the injection phase, the metadata have to be updated, with new date formatting and heavy mapping of document related properties. Can still a hybrid-like architecture save you now ?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="several-workers">Several workers<a href="#several-workers" class="hash-link" aria-label="Direct link to Several workers" title="Direct link to Several workers" translate="no">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a href="#context" class="hash-link" aria-label="Direct link to Context" title="Direct link to Context" translate="no">​</a></h3>
<p>One of the major aspects of a promising migration project is what all project managers will ask you to vouch for: performance metrics.
Let’s suppose you need to migrate documents from a source system into a second one, the latter having a much higher input flow tolerance. No need for empirical statistics to know that the old ECM will be the bottleneck. An architecture similar to a hybrid deployment variant (topic we presented <a href="https://www.fast2.tech/blog/deployment-variants/" target="_blank" rel="noopener noreferrer">here</a>) could easily be envisioned.
But let’s complicate things a little bit here: in-between the extraction and the injection phase, the metadata have to be updated, with new date formatting and heavy mapping of document related properties. Can still a hybrid-like architecture save you now ?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-set-up">How to set up<a href="#how-to-set-up" class="hash-link" aria-label="Direct link to How to set up" title="Direct link to How to set up" translate="no">​</a></h3>
<p>Checkout in the official documentation the required Fast2 files and folders to set up a new worker. Leave a copy of the required files and folders on the machine hosting the source environment. This worker -- let’s label it as worker-S for “source” -- will be assigned to the extraction part.
As indicated in the installation section, starting Fast2 will launch an embedded worker, assigned by default to all tasks composing the migration workflow. This worker here will be our worker-D (for “Destination”, or “Default”).</p>
<p>Plug the worker-S onto the Fast2 broker (yes, the workers -- as <a href="/uxodocs/docs/fast2/getting-started/overall-concepts#architecture">illustrated here</a> -- manifest themselves to the broker, and not the other way around) : to do so, open the <code>config/application.properties</code> of the worker-S :</p>
<p>=== &quot;v2.4-&quot;</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">./config/application.properties</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Fast2 2.1.0 configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Remote broker host to use by the worker</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">broker.host=localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Remote broker port to use by the worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># broker.port=1789</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre></div></div>
<p>=== &quot;v2.5+&quot;</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">./config/application.properties</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Fast2 2.8.0 configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Remote broker url to use by the worker</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">broker.url=http://localhost:1789/broker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Port exposed by Broker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server.port=1789</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Context path used by Broker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server.servlet.context-path=/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre></div></div>
<p>Update the name (or IP address) of the machine where Fast2 is running (<code>broker.host</code>), and the name of the queue which the worker will be assigned to (ex/ “extraction”).</p>
<ol>
<li>Start now the Fast2 server (<a href="/uxodocs/docs/fast2/getting-started/installation#start-fast2-broker">documentation here</a>) to have it up and running alongside the worker-D. This latter will be assigned to both the <em>mapping</em> of the metadata and the injection of the documents in the destination environment.</li>
<li>Then start the worker-S (<a href="/uxodocs/docs/fast2/getting-started/installation#start-fast2-worker">documentation here</a>).</li>
</ol>
<p><img decoding="async" loading="lazy" alt="Schema of the architecture for a 2-worker migration" src="/uxodocs/assets/images/workers-515d706f391a92a0a245f7fc9f0cdc3d.png" width="2198" height="1237" class="img_ev3q"></p>
<p>Open your browser to reach the Fast2 UI, and then build up your migration workflow. For the sake of this example, 3 tasks only will suit our needs of extraction, metadata transformation and load.</p>
<blockquote>
<p>3 tasks, 3 queues, 2 workers: lock and load !!</p>
</blockquote>
<p>The extraction task will be linked to the same queue we mentioned in the <code>config/application.properties</code> of the lone worker (ex/ source-queue).</p>
<p>No need to set a queue for the last task, as it will be handled by default by the last worker started with the Fast2 server.</p>
<p><img decoding="async" loading="lazy" alt="Task config with queue for worker S" src="/uxodocs/assets/images/workers-task-queue-src2025-78c692ad194b72a507e7dc554c2c8f0c.png" width="338" height="246" class="img_ev3q"></p>
<p>For this worker, the <code>config/application.properties</code> will have the queue details set as follows:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Worker queue regex filter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker.queue.regex=source-queue</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Task config with queue for worker D" src="/uxodocs/assets/images/workers-task-queue-other2025-38f19ef65dc0ace7c6432155a1ae2c41.png" width="777" height="241" class="img_ev3q"></p>
<p>For this worker, the <code>config/application.properties</code> will have the queue details set as follows:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Worker queue regex filter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker.queue.regex=metadata-queue,default</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="limits">Limits<a href="#limits" class="hash-link" aria-label="Direct link to Limits" title="Direct link to Limits" translate="no">​</a></h3>
<p>Just like any architectural decisions, such model comes with its drawbacks and benefits. If the benefits can sound quite obvious given past explanations, the downsides are worth mentioning. We will shortly discuss here about the two most current:</p>
<ul>
<li>Resource sharing: the more workers you’ll start on the same machine, the less they’ll have individually available resources.</li>
<li>Connections and sessions: duplication of workers induces duplications of server calls, therefore opened sessions.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resource-sharing">Resource sharing<a href="#resource-sharing" class="hash-link" aria-label="Direct link to Resource sharing" title="Direct link to Resource sharing" translate="no">​</a></h4>
<p>Let’s consider a migration server with 8GB of RAM (which is a pretty good start, don’t get me wrong):
with a running database in the background — the embedded Elasticsearch instance which Fast2 relies on in terms of traceability — needing roughly 3GB, the operating system using 3GB as well, you’ll end up with only 2GB for your worker to open around 100 documents per second and performing content conversion, metadata transformation etc. Needless to say, adding a second worker won’t help you much here !</p>
<p>Increase the threads amount (which you can do in the server configuration, straight from the Fast2 UI) of the queues on which you worker will get the punnets to process will surely be the go-to way for increasing your current performances.</p>
<p>The most recommended scale-up here would be to start another worker on a different machine, using totally independent physical resources and combining them to the ones already solicited by the Fast2 server.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="connections-and-sessions-maxout">Connections and sessions maxout<a href="#connections-and-sessions-maxout" class="hash-link" aria-label="Direct link to Connections and sessions maxout" title="Direct link to Connections and sessions maxout" translate="no">​</a></h4>
<p>A second non-negligible aspect is the number of connections and sessions opened by the workers to communicate with both the source and destination environments. Adding worker will consequently increase these numbers, especially if several threads have been allocated to their processing queues.</p>
<br>
<br>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="and-what-about">And what about...<a href="#and-what-about" class="hash-link" aria-label="Direct link to And what about..." title="Direct link to And what about..." translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="several-workers-on-the-same-machine">Several workers on the same machine?<a href="#several-workers-on-the-same-machine" class="hash-link" aria-label="Direct link to Several workers on the same machine?" title="Direct link to Several workers on the same machine?" translate="no">​</a></h4>
<p>One easy application of multi-worker architecture could be the need of having several source system to extract documents from, via dedicated maps for each. Booting up several workers associated with the right task queues will provide sufficent segmentation to have your migration happen simultaneously.</p>
<p>Sessions conflicts can be prevented as well but such choices of architecture. At the end of the day, only one Fast2 server will have been managing all your different workflows, all you data will be stored in the very same Elasticsearch database, all with significantly better performance rates!</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="several-workers-on-the-same-queue">Several workers on the same queue?<a href="#several-workers-on-the-same-queue" class="hash-link" aria-label="Direct link to Several workers on the same queue?" title="Direct link to Several workers on the same queue?" translate="no">​</a></h4>
<p>In case of seeking for more physical resources for your Fast2 server which, let’s say, is not a scalable machine, you could envision to “plug” a second server to the first one: start another worker on the second machine, and have it aim to the initial Fast2 server where the broker is running. This separate worker will be able to process any task of your workflow, any queue as well, just like the embedded one.</p>
<p>However there would be absolutely no point in starting another worker assigned to the same queues as the embedded one on the Fast2 server. That won’t positively affect you performance rates. If that was you goal before scrolling this page, the secret relies in adding more threads to your queues (as mentioned earlier)!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="remote-worker-configuration-guide">Remote worker: Configuration Guide<a href="#remote-worker-configuration-guide" class="hash-link" aria-label="Direct link to Remote worker: Configuration Guide" title="Direct link to Remote worker: Configuration Guide" translate="no">​</a></h3>
<p>This guide explains how to configure a remote worker to your broker. It covers both scenarios: when both applications are on the same network and when they are on different networks.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h4>
<ul>
<li>Java Development Environment: Both the worker and broker applications should have at least a jdk8+ available on their environment. We highly recommend a jdk11.</li>
<li>Network Connectivity: Both systems should be able to connect to each other through the network (whether local or remote).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="remote-worker-config">Remote worker config<a href="#remote-worker-config" class="hash-link" aria-label="Direct link to Remote worker config" title="Direct link to Remote worker config" translate="no">​</a></h4>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">server.host=&lt;broker_ip_address&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Remote = docs ends broker side</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Local = docs ends worker side</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker.content.factory=&lt;remote|local&gt;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="network">Network<a href="#network" class="hash-link" aria-label="Direct link to Network" title="Direct link to Network" translate="no">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="same-network-scenario">Same Network Scenario<a href="#same-network-scenario" class="hash-link" aria-label="Direct link to Same Network Scenario" title="Direct link to Same Network Scenario" translate="no">​</a></h5>
<ul>
<li>Local IP Address: The worker and broker should be able to communicate over their local network using their local IP addresses.</li>
<li>Network Configuration: The local network should not have strict firewall rules that block communication on the required ports.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="different-networks-scenario">Different Networks Scenario<a href="#different-networks-scenario" class="hash-link" aria-label="Direct link to Different Networks Scenario" title="Direct link to Different Networks Scenario" translate="no">​</a></h5>
<ul>
<li>Public IP Address of Broker: The broker should have a public IP address, or at least a static public IP from the router.</li>
<li>Port Forwarding on Router: The router connected to the broker must have port forwarding configured to forward incoming traffic on specific ports to the broker’s local IP address.</li>
<li>Firewall Configuration: The firewall on both systems (worker and broker) should allow incoming and outgoing traffic on the required ports.</li>
<li>Dynamic DNS (Optional): If the public IP address of the broker is dynamic, you may want to use Dynamic DNS (DDNS) to avoid manually changing the address every time it changes.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-worker-and-broker-on-same-network">Configure Worker and Broker on same network<a href="#configure-worker-and-broker-on-same-network" class="hash-link" aria-label="Direct link to Configure Worker and Broker on same network" title="Direct link to Configure Worker and Broker on same network" translate="no">​</a></h4>
<p><strong>Step 1: Ensure Network Connectivity</strong>
On the worker machine, ensure that you can ping the public IP address of the broker. You may need to test it by pinging broker_public_ip_address.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ping &lt;broker_public_ip_address&gt;</span><br></span></code></pre></div></div>
<p>If the ping works, proceed to the next step. If the ping does not work, there may be an issue with the router, firewall, or routing configuration.</p>
<p><strong>Step 2: Update the broker.url in the Worker Configuration</strong>
On the worker machine, update the <strong>server.host</strong> property in your <em>config/application.properties</em> file to the local IP address of the broker.</p>
<p>If needed, you can change the protocol and port information as well. The <strong>broker.url</strong> variable is automatically updated. Do not change it.</p>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">server.protocol=http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server.host=&lt;broker_local_ip_address&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server.port=1789</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">broker.url=${server.protocol}://${server.host}:${server.port}/broker</span><br></span></code></pre></div></div>
<p>Make sure the port is open and the broker is listening on the specified port.</p>
<p><strong>Step 3: Verify broker is listening on specified port</strong>
On the broker machine, verify that the broker application is listening on the port you specified by using the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo netstat -tuln | grep &lt;port&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Windows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`netstat -ano | findstr &lt;port&gt;`</span><br></span></code></pre></div></div>
<p>The output should show something like:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tcp6       0      0 :::&lt;port&gt;                 :::*                    LISTEN</span><br></span></code></pre></div></div>
<p><strong>Step 4: Test the connection</strong>
On the worker machine, test the connection to the broker using nc (netcat) to check if the port is open and accessible:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nc -zv &lt;broker_local_ip_address&gt; &lt;port&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Windows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">telnet &lt;broker_local_ip_address&gt; &lt;port&gt;</span><br></span></code></pre></div></div>
<p>If the connection is successful, the worker and broker can communicate.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-worker-and-broker-on-different-networks">Configure Worker and Broker on different networks<a href="#configure-worker-and-broker-on-different-networks" class="hash-link" aria-label="Direct link to Configure Worker and Broker on different networks" title="Direct link to Configure Worker and Broker on different networks" translate="no">​</a></h4>
<p><strong>Step 1: Configure Port Forwarding on the Broker’s Router</strong>
On the router connected to the broker, you need to configure port forwarding to forward incoming traffic on a specific port to the broker&#x27;s local IP address and port.</p>
<ol>
<li>Log into the router&#x27;s web interface (usually at 192.168.1.1 or 192.168.0.1).</li>
<li>Navigate to the Port Forwarding or NAT settings section.</li>
<li>Add a rule to forward traffic coming on port to the internal IP address of the broker (broker_local_ip_address).</li>
<li>Save the settings.</li>
</ol>
<p><strong>Step 2: Verify Firewall Configuration</strong>
Ensure that both the broker’s firewall and the worker’s firewall allow communication on the specified port. If necessary, open the required port in the firewall:</p>
<p>On Ubuntu, to open a port in the firewall (if using ufw):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo ufw allow &lt;port&gt;/tcp</span><br></span></code></pre></div></div>
<p><strong>Step 3: Repeat steps explained for same network</strong></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="remote-worker-configuration">Remote worker configuration<a href="#remote-worker-configuration" class="hash-link" aria-label="Direct link to Remote worker configuration" title="Direct link to Remote worker configuration" translate="no">​</a></h4>
<p>You have multiple options through the application.properties file to configure your remote worker.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="file-storage--broker-or-worker-">File storage : broker or worker ?<a href="#file-storage--broker-or-worker-" class="hash-link" aria-label="Direct link to File storage : broker or worker ?" title="Direct link to File storage : broker or worker ?" translate="no">​</a></h5>
<p>You can either store the files processed from the broker or at the worker side.
To choose one or the other you simply have to modify this property :</p>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">worker.content.factory=&lt;remote|local&gt;</span><br></span></code></pre></div></div>
<ul>
<li>Select <strong>remote</strong> to send back documents to the broker.</li>
<li>Select <strong>local</strong> (default value) to keep documents processed by the worker from its side</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no">​</a></h5>
<p>This is an example to understand what happens for both scenarios. Imagine that we are extracting some documents from a Documentum environment and we need to convert tiff files to a pdf format.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="file-storage-architecture">File storage architecture<a href="#file-storage-architecture" class="hash-link" aria-label="Direct link to File storage architecture" title="Direct link to File storage architecture" translate="no">​</a></h5>
<p>By default, documents processed by the worker will be stored under the folder <strong>files/</strong>.
Then documents will follow a strict hierarchy as mentioned in the property <strong>worker.files.pattern</strong></p>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">worker.files.dir=files/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker.files.pattern=@{campaign?:&#x27;shared&#x27;}/@{step?:&#x27;shared&#x27;}/@{documentId?:punnetId}</span><br></span></code></pre></div></div>
<p>Values shown above are used by default. Feel free to change it to match your requirements in term of folder organization.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="common-issues">Common Issues<a href="#common-issues" class="hash-link" aria-label="Direct link to Common Issues" title="Direct link to Common Issues" translate="no">​</a></h5>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="ping-does-not-work">Ping does not work<a href="#ping-does-not-work" class="hash-link" aria-label="Direct link to Ping does not work" title="Direct link to Ping does not work" translate="no">​</a></h6>
<p>Ensure that the devices can actually communicate over the network. Double-check the network cables, Wi-Fi connection, and make sure there are no misconfigured network settings or firewalls blocking ICMP packets.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="connection-times-out">Connection times out<a href="#connection-times-out" class="hash-link" aria-label="Direct link to Connection times out" title="Direct link to Connection times out" translate="no">​</a></h6>
<p>If using public IP addresses, check the router’s port forwarding configuration and verify that the firewall on both the broker and worker machines allows traffic on the relevant port.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="port-is-closed">Port is closed<a href="#port-is-closed" class="hash-link" aria-label="Direct link to Port is closed" title="Direct link to Port is closed" translate="no">​</a></h6>
<p>Verify that the broker application is actually listening on the specified port, and ensure the port is not blocked by a firewall.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="public-ip-changes">Public IP changes<a href="#public-ip-changes" class="hash-link" aria-label="Direct link to Public IP changes" title="Direct link to Public IP changes" translate="no">​</a></h6>
<p>If the public IP of the broker changes frequently, consider using a Dynamic DNS (DDNS) service to map a domain name to the changing IP address, so the worker can use the domain name instead of an IP address.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/uxodocs/docs/fast2/components/database"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Internal database</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/uxodocs/docs/fast2/cookbooks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Fast2 cookbooks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#material-hard-hat-configure-the-workers" class="table-of-contents__link toc-highlight">:material-hard-hat: Configure the worker(s)</a><ul><li><a href="#change-jdk" class="table-of-contents__link toc-highlight">Change JDK</a></li><li><a href="#memory-allocation" class="table-of-contents__link toc-highlight">Memory allocation</a></li><li><a href="#queues-management" class="table-of-contents__link toc-highlight">Queues management</a></li><li><a href="#disabled-the-embedded-worker" class="table-of-contents__link toc-highlight">Disabled the embedded worker</a></li></ul></li><li><a href="#octicons-zap-24-advanced-use" class="table-of-contents__link toc-highlight">:octicons-zap-24: Advanced use</a><ul><li><a href="#several-workers" class="table-of-contents__link toc-highlight">Several workers</a></li><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#how-to-set-up" class="table-of-contents__link toc-highlight">How to set up</a></li><li><a href="#limits" class="table-of-contents__link toc-highlight">Limits</a></li><li><a href="#and-what-about" class="table-of-contents__link toc-highlight">And what about...</a></li><li><a href="#remote-worker-configuration-guide" class="table-of-contents__link toc-highlight">Remote worker: Configuration Guide</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 UXO Docs</div></div></div></footer></div>
</body>
</html>