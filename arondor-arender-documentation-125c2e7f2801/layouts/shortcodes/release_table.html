{{/* ---------------------------------------------------------------
release_table.html  –  Hugo 0.69 compatible
• collapsible by month (<details><summary>)
    • rows = <div> (no ul/li therefore no bullets)
        • links always present; no GetPage checks
        ------------------------------------------------------------------*/}}

        {{ $nowYM := (now | dateFormat "2006-01") }}
        {{ $.Scratch.Set "ym" "" }}

        {{ range sort .Site.Data.releases "date" "desc" }}
        {{ $ym := dateFormat "2006-01" .date }}

        {{ if ne $ym ($.Scratch.Get "ym") }}
        {{ if ne ($.Scratch.Get "ym") "" }}
    </div></details>
{{ end }}
{{ $.Scratch.Set "ym" $ym }}

<details {{ if eq $ym $nowYM }}open{{ end }} class="rl-month">
    <summary>{{ dateFormat "January 2006" .date }}</summary>
    <div class="rl-container">
        {{ end }}

        <div class="rl-row">
            <div class="rl-left">
                <time datetime="{{ .date }}">{{ dateFormat "Jan 02" .date }}</time>
                <code class="rl-tag">{{ .name }}</code>
            </div>

            <div class="rl-links">
                <a href="{{ printf "/releases/release-notes/%s/" .name | relLangURL }}">Release&nbsp;Note</a>
                <span>·</span>
                <a href="{{ printf "/releases/upgrade-notes/%s/" .name | relLangURL }}">Upgrade&nbsp;Note</a>
            </div>
        </div>
        {{ end }}

        {{ if ne ($.Scratch.Get "ym") "" }}
    </div></details>
{{ end }}
