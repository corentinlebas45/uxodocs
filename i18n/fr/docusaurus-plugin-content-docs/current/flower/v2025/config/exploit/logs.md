---
title: Logs
---

:::info
FlowerDocs s'appuie sur la librairie [Logback](https://logback.qos.ch/) pour la gestion des logs applicatifs. 
:::

# Fichiers de log
-----

Les paramètres suivants peuvent être définis dans les fichiers `core.properties` et `gui.properties` :


| Paramètre                 | Valeur par défaut  |Description |
|---------------------------|-------------|-------------------|
|`logging.file.name`             |*flowerdocs-xxx.log*|Chemin du fichier de log|
|`logging.file.max-size`    |*10MB*|Taille maximum d'un fichier de log à partir de laquelle la rotation est activée|
|`logging.file.max-history` |*non défini*|Nombre maximum de fichiers de log historisés|
|`logging.level.root` |*INFO*|Niveau de log par défaut|


# Niveaux de log
-----

FlowerDocs et les librairies utilisées poussent des logs de plusieurs niveaux : 

* `TRACE` : niveau le plus fin d'information permettant d'obtenir des informations facilitant le debug (*peut être activé suite à une demande du support*)
* `DEBUG` : niveau permettant d'obtenir des informations nécessaires au debug (*peut être activé suite à une demande du support*)  
* `INFO` : messages donnés à titre d'information
* `WARN` : messages d'avertissement
* `ERROR`: erreurs interceptées par l'application

<br/>
Le niveau de log peut être défini par package Java en ajoutant un paramètre `logging.level.<package>=<niveau>` comme par exemple : 

```properties
logging.level.com.flower.docs.core.tsp=DEBUG
```

# Variables
-----

Sur une plateforme mutualisée ou tout simplement très utilisée, il peut être nécessaire de contextualiser les logs. FlowerDocs met donc à disposition des variables pouvant être affichées dans les messages de log : 

* `user` : identifiant de l'utilisateur courrant
* `scope` : identifiant du scope sur lequel l'utilisateur courrant est authentifié
* `request` : identifiant unique de la requête émise (dans le cas d'une requête émise sur FlowerDocs GUI et propagée sur FlowerDocs Core, l'identifiant est conservé)

Pour utiliser ces variables, il suffit de modifier le paramètre `logging.pattern.level` de l'*appender* considéré : `%X{variable}` comme par exemple : 

```properties
logging.pattern.level=%X{request} %X{scope} %X{user} %5p
```