"use strict";(globalThis.webpackChunkuxodocs=globalThis.webpackChunkuxodocs||[]).push([[9440],{2401:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"cookbooks/punnet_basics","title":"Learn how to deal with punnets","description":"Punnet structure","source":"@site/docs/fast2/cookbooks/punnet_basics.md","sourceDirName":"cookbooks","slug":"/cookbooks/punnet_basics","permalink":"/uxodocs/docs/fast2/cookbooks/punnet_basics","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"boilerplate","permalink":"/uxodocs/docs/fast2/tags/boilerplate"},{"inline":true,"label":"punnet","permalink":"/uxodocs/docs/fast2/tags/punnet"},{"inline":true,"label":"content","permalink":"/uxodocs/docs/fast2/tags/content"},{"inline":true,"label":"java","permalink":"/uxodocs/docs/fast2/tags/java"}],"version":"current","frontMatter":{"author":"Joseph TESSIER","tags":["boilerplate","punnet","content","java"]},"sidebar":"docs","previous":{"title":"Sort documents in a punnet","permalink":"/uxodocs/docs/fast2/cookbooks/js-sort-documents"},"next":{"title":"Upload content and metadata in a S3 bucket","permalink":"/uxodocs/docs/fast2/cookbooks/upload-content-and-metadata-in-s3"}}');var a=t(4848),o=t(8453);const c={author:"Joseph TESSIER",tags:["boilerplate","punnet","content","java"]},i="Learn how to deal with punnets",r={},d=[{value:"Creating a punnet",id:"creating-a-punnet",level:2},{value:"ID",id:"id",level:3},{value:"Sending a punnet into the campaign",id:"sending-a-punnet-into-the-campaign",level:3},{value:"Documents",id:"documents",level:2},{value:"DataSet",id:"dataset",level:2},{value:"Folders",id:"folders",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"learn-how-to-deal-with-punnets",children:"Learn how to deal with punnets"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Punnet structure",src:t(4686).A+"",width:"1692",height:"1125"})}),"\n",(0,a.jsx)(n.p,{children:"Since the punnet is the pivot format into Fast2, all documents, folders and metadata can only be manipulated through this object. Here are the basics for an appropriate understanding of the Java API of the punnet object."}),"\n",(0,a.jsxs)(n.p,{children:["For a better understanding of the following, the punnet structure needs to be clearly visualized. If required, go back to ",(0,a.jsx)(n.a,{href:"/uxodocs/docs/fast2/getting-started/overall-concepts#punnet",children:"the definition"})," of such an object in Fast2."]}),"\n",(0,a.jsx)(n.h2,{id:"creating-a-punnet",children:"Creating a punnet"}),"\n",(0,a.jsx)(n.p,{children:"The creation of a punnet is an operation which should only take place in source tasks, as all other tasks only process punnets given to the as input."}),"\n",(0,a.jsx)(n.p,{children:"To create a punnet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"Punnet myPunnet = task.getManager().getPunnetFactory().createEmptyPunnet();\n"})}),"\n",(0,a.jsx)(n.p,{children:"The punnet ID will be automatically computed by Fast2, following certain models based on the task producing the punnet. This ID can be useful to track the punnet over different tasks, as its value will remain unchanged."}),"\n",(0,a.jsx)(n.h3,{id:"id",children:"ID"}),"\n",(0,a.jsxs)(n.p,{children:["To force the ID of the punnet, a ",(0,a.jsx)(n.code,{children:"String"})," value can be passed as argument."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'myPunnet.setPunnetId(PunnetId.id("myId"));\n'})}),"\n",(0,a.jsx)(n.p,{children:"Retrieving the ID of the punnet just goes as so:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"PunnetId punnetId = myPunnet.getPunnetId();\n"})}),"\n",(0,a.jsx)(n.h3,{id:"sending-a-punnet-into-the-campaign",children:"Sending a punnet into the campaign"}),"\n",(0,a.jsx)(n.p,{children:"The source tasks are responsible for not only create the punnet, but also send it in the migration workflow."}),"\n",(0,a.jsxs)(n.p,{children:["Once the punnet is created and its components are correctly formed, the last step of the source will rely on the ",(0,a.jsx)(n.code,{children:"Consumer"})," input parameter of the main method of the connector :"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"consumer.push(myPunnet);\n"})}),"\n",(0,a.jsx)(n.h2,{id:"documents",children:"Documents"}),"\n",(0,a.jsx)(n.p,{children:"Punnets may or may not embed document(s)."}),"\n",(0,a.jsx)(n.p,{children:"Several-documents cases could be like:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"the migration strategy is to group in a punnet all documents stored in a given folder"}),"\n",(0,a.jsx)(n.li,{children:"the migration strategy is to group in a punnet all documents matching a criterion (depending of the configuration fields of the source)"}),"\n",(0,a.jsx)(n.li,{children:"a punnet embed a released version of a document and all its past versions."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Whatever the reason, the documents can be added to the punnet in two ways:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["The document was ",(0,a.jsx)(n.strong,{children:"already existing"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"Document myDoc = myPunnet.addDocument(myDocument);\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["The document ",(0,a.jsx)(n.strong,{children:"needs to be created"}),", which can be done on the fly:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"Document myDoc = myPunnet.addDocument(DocumentId.id());\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"All documents can be access via the list of all documents stored in the punnet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"List<Document> myDocuments = myPunnet.getDocuments();\n"})}),"\n",(0,a.jsx)(n.p,{children:"As any Java list, documents can be removed as long as the correct index is provided."}),"\n",(0,a.jsxs)(n.p,{children:["For more information concerning the documents, head out to the ",(0,a.jsx)(n.a,{href:"/uxodocs/docs/fast2/cookbooks/document_basics",children:"dedicated section"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"dataset",children:"DataSet"}),"\n",(0,a.jsx)(n.p,{children:"The purpose of the punnet dataset is to store metadata not closely related to any folder or document specifically."}),"\n",(0,a.jsx)(n.p,{children:"This dataset can be access via an usual getter:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"DataSet myDataset = myPunnet.getDataSet();\n"})}),"\n",(0,a.jsx)(n.p,{children:"A punnet is built with an empty dataset by default."}),"\n",(0,a.jsxs)(n.p,{children:["For more information concerning the dataset, head out to the ",(0,a.jsx)(n.a,{href:"/uxodocs/docs/fast2/cookbooks/dataset_basics",children:"dedicated section"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"folders",children:"Folders"}),"\n",(0,a.jsx)(n.p,{children:"The punnet folderset can be used for folders-only migration and well as folder-as-a-whole ones, where a punnet will contain a folder reference and all the documents previously filed into this folder."}),"\n",(0,a.jsx)(n.p,{children:"A folderset can contains one or several folder references, and is access as follows:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"FolderSet myFolders = myPunnet.getFolders();\n"})}),"\n",(0,a.jsx)(n.p,{children:"A punnet is built with an empty folderset by default."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},4686:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/punnet-c2cc50a046634ddb79da4c1db94f21ac.png"},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var s=t(6540);const a={},o=s.createContext(a);function c(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);